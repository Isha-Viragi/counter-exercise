<!DOCTYPE html>

<html>
  <head>
    <title>Cart Counter Exercise</title>
    <link rel="stylesheet" href="styles.css" type="text/css" />
    <link rel="stylesheet" href="navbar.css" type="text/css" />
    <link rel="stylesheet" href="footer.css" type="text/css" />
  </head>
  <body>
    <header class="navbar">
      <nav class="left-section">LOGO</nav>
      <nav class="middle-section">SEARCHBAR</nav>
      <nav class="right-section">LINKS</nav>
    </header>

    <main class="counter">
      <h1>Cart Counter</h1>
      <p>(Limit of 10)</p>

      <div class="counter__grid-main">
        <button
          onclick="changeButton();"
          class="button primary-button js-total-button"
        >
          Click to Hide Total
        </button>

        <div class="counter__grid-buttons">
          <button
            onclick="updateCartQuantity(1, '+')"
            class="button secondary-button"
          >
            Add to Cart
          </button>
          <button
            onclick="updateCartQuantity(2, '+')"
            class="button secondary-button"
          >
            +2
          </button>
          <button
            onclick="updateCartQuantity(3, '+')"
            class="button secondary-button"
          >
            +3
          </button>

          <button
            class="button secondary-button"
            onclick="updateCartQuantity(4, '+')"
          >
            +4
          </button>

          <button
            class="button secondary-button"
            onclick="updateCartQuantity(5, '+')"
          >
            +5
          </button>

          <button
            onclick="updateCartQuantity(1, '-')"
            class="button secondary-button"
          >
            Remove from Cart
          </button>
          <button
            onclick="updateCartQuantity(2, '-')"
            class="button secondary-button"
          >
            -2
          </button>
          <button
            onclick="updateCartQuantity(3, '-')"
            class="button secondary-button"
          >
            -3
          </button>
          <button
            class="button secondary-button"
            onclick="updateCartQuantity(4, '-')"
          >
            -4
          </button>
          <button
            class="button secondary-button"
            onclick="updateCartQuantity(5, '-')"
          >
            -5
          </button>
        </div>

        <button
          onclick="
                  count = 0;
                  displayCount();
                  alert('Cart has been Reset!');
                "
          class="button primary-button"
        >
          Reset Cart
        </button>
      </div>
      <p class="js-count-display"></p>
    </main>
    <footer class="footer">FOOTER</footer>
    <script>
      let count = 0;
      const cartLimit = 10;
      const cartFullMessage = "The cart is full!";
      const cartEmptyMessage = "Not enough items in the cart!!";

      displayCount();

      function updateCartQuantity(quantity, action) {
        if (action === "+") {
          if (count + quantity > cartLimit) alert(cartFullMessage);
          else {
            count += quantity;
            console.log(`Added ${quantity} to cart!`);
            displayCount();
          }
        } else if (action === "-") {
          if (count - quantity < 0) alert(cartEmptyMessage);
          else {
            count -= quantity;
            console.log(`Removed ${quantity} from cart!`);
            displayCount();
          }
        }
      }

      function displayCount() {
        const buttonElement = document.querySelector(".js-total-button");
        if (buttonElement.innerText === "Click to Show Total") {
          return;
        }
        document.querySelector(
          ".js-count-display"
        ).innerHTML = `Cart Quantity: ${count}`;
      }

      function hideCount() {
        document.querySelector(".js-count-display").innerHTML = "";
      }

      function changeButton() {
        const buttonElement = document.querySelector(".js-total-button");
        if (buttonElement.innerText === "Click to Hide Total") {
          buttonElement.innerHTML = "Click to Show Total";
          hideCount();
        } else if (buttonElement.innerText === "Click to Show Total") {
          buttonElement.innerHTML = "Click to Hide Total";
          displayCount();
        }
      }
    </script>
  </body>
</html>
